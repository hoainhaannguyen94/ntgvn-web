<div class="base-container fixed-size base-details-container">
    <ng-template [ngTemplateOutlet]="BaseDetailsHeaderTemplate" />

    <ng-template [ngTemplateOutlet]="BaseDetailsContentTemplate" />

    <ng-template [ngTemplateOutlet]="BaseDetailsActionsTemplate" />
</div>

<ng-template #BaseDetailsHeaderTemplate>
    <div class="base-details-header">New Device</div>
</ng-template>

<ng-template #BaseDetailsContentTemplate>
    <div class="base-details-content" [formGroup]="formGroup">
        <mat-form-field appearance="outline">
            <mat-label>Name</mat-label>
            <input matInput formControlName="name" required autocomplete="off" />
            <mat-error>
                <error-message [errors]="formGroup.get('name')?.errors" [target]="'Name'" />
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Type</mat-label>
            <input matInput formControlName="type" required autocomplete="off" />
            <mat-error>
                <error-message [errors]="formGroup.get('type')?.errors" [target]="'Type'" />
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Latitude</mat-label>
            <input type="number" matInput formControlName="lat" required autocomplete="off" />
            <mat-error>
                <error-message [errors]="formGroup.get('lat')?.errors" [target]="'Latitude'" />
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Longtitude</mat-label>
            <input type="number" matInput formControlName="lng" required autocomplete="off" />
            <mat-error>
                <error-message [errors]="formGroup.get('lng')?.errors" [target]="'Longtitude'" />
            </mat-error>
        </mat-form-field>
    </div>
</ng-template>

<ng-template #BaseDetailsActionsTemplate>
    <div class="base-details-actions">
        <button mat-flat-button (click)="cancelHandler()">Cancel</button>

        <button mat-flat-button color="primary" (click)="submitHandler()" [disabled]="isLoading || formGroup.invalid">
            <mat-spinner strokeWidth="4" diameter="24" class="--button --submit" *ngIf="isLoading" />
            <span>Submit</span>
        </button>
    </div>
</ng-template>
