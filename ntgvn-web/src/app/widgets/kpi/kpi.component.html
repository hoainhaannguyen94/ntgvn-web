<div class="kpi-widget-container mat-elevation-z4">
    <ng-container *ngIf="isLoading">
        <ng-container *ngTemplateOutlet="loading" />
    </ng-container>
    <ng-container *ngIf="!isLoading">
        <ng-container *ngTemplateOutlet="loaded" />
    </ng-container>
</div>

<ng-template #loading>
    <div class="widget-loading">
        <div>
            <content-loader [shape]="'rect'" [width]="'100%'" [height]="'100%'" />
        </div>
    </div>
</ng-template>

<ng-template #loaded>
    <ng-container *ngIf="config">
        <div class="kpi-widget-header">
            <div>{{config.title}}</div>
            <mat-icon (click)="navigateTo(config.navigationUrl)">info</mat-icon>
        </div>
        <div class="kpi-widget-content">
            <mat-icon class="kpi-widget-icon">{{config.icon}}</mat-icon>
            <div class="kpi-widget-total">{{config.total}}</div>
        </div>
    </ng-container>
</ng-template>
